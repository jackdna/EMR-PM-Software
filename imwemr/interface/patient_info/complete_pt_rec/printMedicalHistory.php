<?php
/*
// The MIT License (MIT)
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

//START
######array for medical histoty##############
////////END OCULAR TAB DATA////////
$arrMEDHX = array();
$arrMEDHX [] = array("Filed_Label"=> "you_wear","Filed_Label_Val"=> '0',"Filed_Label_Og_Val"=> "None");
$arrMEDHX [] = array("Filed_Label"=> "you_wear","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Glasses");
$arrMEDHX [] = array("Filed_Label"=> "you_wear","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Contact Lenses");
$arrMEDHX [] = array("Filed_Label"=> "you_wear","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Glasses And Contact Lenses");										
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Blurred or Poor Vision");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Poor Night Vision");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Gritty Sensation");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Trouble Reading Signs");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Glare From Lights");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '6',"Filed_Label_Og_Val"=> "Tearing");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '7',"Filed_Label_Og_Val"=> "Poor Depth Perception");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '8',"Filed_Label_Og_Val"=> "Halos Around Lights");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '9',"Filed_Label_Og_Val"=> "Itching or Burning");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '10',"Filed_Label_Og_Val"=> "Trouble Identifying Colors");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '11',"Filed_Label_Og_Val"=> "See Spots or Floaters");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '12',"Filed_Label_Og_Val"=> "Eye Pain");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '13',"Filed_Label_Og_Val"=> "Double Vision");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '14',"Filed_Label_Og_Val"=> "See Light Flashes");
$arrMEDHX [] = array("Filed_Label"=> "eye_problems","Filed_Label_Val"=> '15',"Filed_Label_Og_Val"=> "Redness or Bloodshot");
$arrMEDHX [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "You Dry Eyes :");
$arrMEDHX [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "You Macula Degeneration :");
$arrMEDHX [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "You Glaucoma :");
$arrMEDHX [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "You Retinal Detachment :");
$arrMEDHX [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "You Cataracts :");
$arrMEDHX [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Relative Dry Eyes :");
$arrMEDHX [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Relative Macula Degeneration :");
$arrMEDHX [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Relative Glaucoma :");
$arrMEDHX [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Relative Retinal Detachment :");
$arrMEDHX [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Relative Cataracts :");
$arrMEDHX [] = array("Filed_Label"=> "chronicDesc","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "You Dry Eyes :");
$arrMEDHX [] = array("Filed_Label"=> "chronicDesc","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "You Macula Degeneration :");
$arrMEDHX [] = array("Filed_Label"=> "chronicDesc","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "You Glaucoma :");
$arrMEDHX [] = array("Filed_Label"=> "chronicDesc","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "You Retinal Detachment :");
$arrMEDHX [] = array("Filed_Label"=> "chronicDesc","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "You Cataracts :");
$arrMEDHX [] = array("Filed_Label"=> "chronicDesc","Filed_Label_Val"=> 'other',"Filed_Label_Og_Val"=> "You other :");
$arrMEDHX [] = array("Filed_Label"=> "chronicRelative","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Relative Dry Eyes :");
$arrMEDHX [] = array("Filed_Label"=> "chronicRelative","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Relative Macula Degeneration :");
$arrMEDHX [] = array("Filed_Label"=> "chronicRelative","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Relative Glaucoma :");
$arrMEDHX [] = array("Filed_Label"=> "chronicRelative","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Relative Retinal Detachment :");
$arrMEDHX [] = array("Filed_Label"=> "chronicRelative","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Relative Cataracts :");
$arrMEDHX [] = array("Filed_Label"=> "chronicRelative","Filed_Label_Val"=> 'other',"Filed_Label_Og_Val"=> "Relative other :");

$medQry = "select * from ocular where patient_id = '$pid'";
$medSql = imw_query($medQry);
$result = imw_fetch_assoc($medSql);

foreach ((array)$result as $key => $value) {	
	switch ($key):
		case "you_wear":														
			$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHX,$key);										
			$orignalValue = explode("~~~~",$orignalValue);										
			$youWearValue = $orignalValue[0];														
		break;
		case "last_exam_date":														
			$lastExamDateValue = get_date_format($value);
		break;		
		case "eye_problems":										
			$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHX,$key);										
			$orignalValue = explode("~~~~",$orignalValue);										
			$eyeProblemValue = $orignalValue[0];	
			
		break;	
		case "any_conditions_you":										
			$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHX,$key);										
			$orignalValue = explode("~~~~",$orignalValue);										
			$anyConditionYouValue = $orignalValue[0];																	
			
		break;		
		case "any_conditions_relative":										
			$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHX,$key);										
			$orignalValue = explode("~~~~",$orignalValue);										
			$anyConditionRelativeValue = $orignalValue[0];
			break;									
		case "chronicDesc":												
			$orignalValue = $cpr->getOrignalValWt2Sep($value,$value,$arrMEDHX,$key);										
			$orignalValue = explode("~~~~",$orignalValue);										
			$chronicDescValue = $orignalValue[0];															
		break;
		case "chronicRelative":																								
			$orignalValue = $cpr->getOrignalValWt2Sep($value,$value,$arrMEDHX,$key);										
			$orignalValue = explode("~~~~",$orignalValue);										
			$chronicRelativeValue = $orignalValue[0];									
		break;	
		case "eye_problems_other":																																			
			$eyeProbOtherValue = wv_formatDate($value);									
		break;		
		case "OtherDesc":																																				
			$otherDescValue = wv_formatDate($value);									
		break;		
				
	endswitch;
}	
////////END OCULAR TAB DATA////////
?>
<table style="width:750px;"  class="paddingTop" cellpadding="2" cellspacing="0">	
	<tr>
		<td class="bluelne" style="width:750px;">&nbsp;</td>		
	</tr>
	<tr>
		<td height="2"></td>		
	</tr>
	<tr>
		<td class="bluehed" style="width: 100%;">
			OCULAR
		</td>		
	</tr>
</table>
<table style="width: 100%;"  class="paddingTop"  cellpadding="0" border="0" cellspacing="0">
	<tr>
		<td class="text_lable" colspan="4" valign="top">Eye History :-</td>
	</tr>	
	<tr>
		<td style="width: 13%;"width="13%"  valign="top" class="text_lable">Do you wear:</td>
		<td style="width: 29%;"width="29%"  valign="top" class="text_value"><?php echo $youWearValue; ?></td>
		<td style="width: 17%;"width="17%"  valign="top" class="text_lable">Last eye exam date:</td>
		<td style="width: 41%;" width="41%" valign="top" class="text_value"><?php echo $lastExamDateValue; ?></td>
	</tr>
	<tr>
		<td class="text_lable" valign="top">
			<?php if($eyeProblemValue){?>
			Eye problems :-
			<?php }?>
		</td>	
		<td class="text_value" valign="top">
			<?php echo $eyeProblemValue; ?>
		</td>	
		<td class="text_lable" valign="top">
			<?php if($eyeProbOtherValue){?>
			Other eye problems :-
			<?php }?>
		</td>		
		<td class="text_value" valign="top">
			<?php echo $eyeProbOtherValue; ?>
		</td>	
	</tr>
	<tr>
		<td class="text_lable" colspan="4" valign="top">
		<?php if($chronicDescValue || $chronicRelativeValue){?>
			Any condition you or blood relative :-
		<?php }?>	
		</td>			
	</tr>
	<tr>
		<td colspan="2" class="text_lable"  valign="top">
		<?php if($chronicDescValue){?>
			Any condition you :-
		<?php }?>
		</td>		
		<td colspan="2" class="text_lable"  valign="top">
		<?php if($chronicRelativeValue){?>
			Any condition blood relative :-
		<?php }?>	
		</td>		
	</tr>
	<tr>
		<td colspan="2" class="text_value">			
			<?php echo $chronicDescValue; ?>			
		</td>	
		<td colspan="2" class="text_value" align="left" valign="top">
			<?php echo $chronicRelativeValue; ?>
		</td>	
	</tr>
</table>
<?php

$delimiter = '~|~';
$hifen = ' - ';
		$arrMEDHXGenralHealth = array();
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "High Blood Pressure");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Heart Problem");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '7',"Filed_Label_Og_Val"=> "Arthritis");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Lung Problems");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Stroke");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '6',"Filed_Label_Og_Val"=> "Thyroid Problems");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Diabetes");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '8',"Filed_Label_Og_Val"=> "Ulcers");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '13',"Filed_Label_Og_Val"=> "LDL");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_you","Filed_Label_Val"=> '14',"Filed_Label_Og_Val"=> "Cancer");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Relative High Blood Pressure :");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Relative Heart Problem :");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '7',"Filed_Label_Og_Val"=> "Relative Arthritis :");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Relative Lung Problems :");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Relative Stroke :");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '6',"Filed_Label_Og_Val"=> "Relative Thyroid Problems :");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Relative Diabetes :");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '8',"Filed_Label_Og_Val"=> "Relative Ulcers :");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '13',"Filed_Label_Og_Val"=> "Relative LDL :");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_relative","Filed_Label_Val"=> '14',"Filed_Label_Og_Val"=> "Relative Cancer :");
		
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_others_both","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "You Other");
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "any_conditions_others_both","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Relative Other");
		
		$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_const","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Fever");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_const","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Weight Loss");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_const","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Rash");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_const","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Skin Disease");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_const","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Fatigue");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_head","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Sinus Infection");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_head","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Post Nasal Drips");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_head","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Runny Nose");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_head","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Dry Mouth");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_head","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Deafness");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_resp","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Cough");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_resp","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Bronchitis");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_resp","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Shortness of Breath");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_resp","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Asthma");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_resp","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Emphysema");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_resp","Filed_Label_Val"=> '6',"Filed_Label_Og_Val"=> "COPD");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_resp","Filed_Label_Val"=> '7',"Filed_Label_Og_Val"=> "TB");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_card","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Chest Pain");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_card","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Congestive Heart Failure");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_card","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Irregular Heart beat");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_card","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Shortness of Breath");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_card","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "High Blood Pressure");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_card","Filed_Label_Val"=> '6',"Filed_Label_Og_Val"=> "Low Blood Pressure");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_card","Filed_Label_Val"=> '7',"Filed_Label_Og_Val"=> "Pacemaker/defibrillator");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_gastro","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Vomiting");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_gastro","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Ulcers");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_gastro","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Diarrhea");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_gastro","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Bloody Stools");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_gastro","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Hepatitis");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_gastro","Filed_Label_Val"=> '6',"Filed_Label_Og_Val"=> "Jaundice");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_gastro","Filed_Label_Val"=> '7',"Filed_Label_Og_Val"=> "Constipation");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_genit","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Genital Ulcers");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_genit","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Discharge");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_genit","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Kidney Stones");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_genit","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Blood in Urine");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_aller","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Seasonal Allergies");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_aller","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Hay Fever");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_neuro","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Headache");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_neuro","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Migraines");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_neuro","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Paralysis Fever");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_neuro","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Joint Ache");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_neuro","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Seizures");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_neuro","Filed_Label_Val"=> '6',"Filed_Label_Og_Val"=> "Numbness");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_neuro","Filed_Label_Val"=> '7',"Filed_Label_Og_Val"=> "Faints");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_neuro","Filed_Label_Val"=> '8',"Filed_Label_Og_Val"=> "Stroke");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_neuro","Filed_Label_Val"=> '9',"Filed_Label_Og_Val"=> "Multiple Sclerosis");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_neuro","Filed_Label_Val"=> '10',"Filed_Label_Og_Val"=> "Alzheimer's Disease");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_neuro","Filed_Label_Val"=> '11',"Filed_Label_Og_Val"=> "Parkinson's Disease");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_neuro","Filed_Label_Val"=> '12',"Filed_Label_Og_Val"=> "Dementia");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_intgmntr","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Rashes");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_intgmntr","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Wounds");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_intgmntr","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Breast Lumps");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_intgmntr","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Eczema");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_intgmntr","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Dermatitis");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_psychiatry","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Depression");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_psychiatry","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Anxiety");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_psychiatry","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Paranoia");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_psychiatry","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Sleep Patterns");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_psychiatry","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Mental and/or emotional factors");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_psychiatry","Filed_Label_Val"=> '6',"Filed_Label_Og_Val"=> "Alzheimer's Disease");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_psychiatry","Filed_Label_Val"=> '7',"Filed_Label_Og_Val"=> "Parkinson's disease");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_psychiatry","Filed_Label_Val"=> '8',"Filed_Label_Og_Val"=> "Memory Loss");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_blood_lymph","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Anemia");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_blood_lymph","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Blood Transfusions");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_blood_lymph","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Excessive Bleeding");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_blood_lymph","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Purpura");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_blood_lymph","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Infection");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_musculoskeletal","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Pain");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_musculoskeletal","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Joint Ache");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_musculoskeletal","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Stiffness");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_musculoskeletal","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Swelling");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_musculoskeletal","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Paralysis Fever");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_endocrine","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Mood Swings");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_endocrine","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Constipation");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_endocrine","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Polydipsia");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_endocrine","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Hypothyroidism");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_endocrine","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Hyperthyroidism");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_eye","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Vision loss");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_eye","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Eye pain");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_eye","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Double vision");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "review_eye","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Headache");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '1',"Filed_Label_Og_Val"=> "Negative for constitutional");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '2',"Filed_Label_Og_Val"=> "Negative for ear, nose, mouth & throat");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '3',"Filed_Label_Og_Val"=> "Negative for respiratory");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '4',"Filed_Label_Og_Val"=> "Negative for cardiovascular");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '5',"Filed_Label_Og_Val"=> "Negative for gastrointenstinal");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '6',"Filed_Label_Og_Val"=> "Negative for genitourinary");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '7',"Filed_Label_Og_Val"=> "Negative for allergic/immunologic");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '8',"Filed_Label_Og_Val"=> "Negative for neurological");

$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '9',"Filed_Label_Og_Val"=> "Negative for integumentary");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '10',"Filed_Label_Og_Val"=> "Negative for psychiatry");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '11',"Filed_Label_Og_Val"=> "Negative for hemotologic/lymphatic");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '12',"Filed_Label_Og_Val"=> "Negative for musculoskeletal");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '13',"Filed_Label_Og_Val"=> "Negative for endocrine");
$arrMEDHXGenralHealth [] = array("Filed_Label"=> "negChkBx","Filed_Label_Val"=> '14',"Filed_Label_Og_Val"=> "Negative for eyes");
		
		$qryGetGenHealth = "select * from general_medicine where patient_id=$pid";
		$rsGetGenHealth = imw_query($qryGetGenHealth);
		$arrRsGetGenHealth = imw_fetch_assoc($rsGetGenHealth);

		$medDoctorValueGH = $genMedCommentsValueGH=$anyConditionYouValueGH=$relDescHighBpValueGH =
		$relDescHeartProbValueGH = $relDescLungProbValueGH = $relDescStrokeProbValueGH = $relDescThyroidProbValueGH =
		$relDescArthritisProbValueGH = $relDescUlcersProbValueGH = $relDescLDLValueGH = $relDescCancerProbValueGH =
		$descValueGH = $descRValueGH = $anyConditionOtherValueGH = $ghRelDescOthersValueGH = $anyReviewConstValueGH =
		$reviewHeadValueGH = $reviewConstOtherValueGH = $reviewHeadOtherValueGH = $reviewRespValueGH = $reviewCardValueGH =
		$reviewRespOtherValueGH = $reviewCardOtherValueGH = $reviewGastroValueGH = $reviewGenitValueGH =
		$reviewGastroOtherValueGH = $reviewGenitOtherValueGH = $reviewAllerValueGH = $reviewNeuroValueGH =
		$reviewAllerOtherValueGH = $reviewNeuroOtherValueGH = $descValueDHB = $descValueDA = $descValueDLP =
		$descValueDS = $descValueDTP = $descValueDU = $descValueDC = $descValueDHP = $descValueDGPP = $descValueDLDL =
		$descValueDV = $anyConditionYouValueInDb = $subArthritisProbValueGH = '';
				
		foreach ((array)$arrRsGetGenHealth as $key => $value) {	
			switch ($key):	
				case "med_doctor":																							
					$medDoctorValueGH = $value;
					break;		
				case "any_conditions_you":										
					$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$key);										
					$orignalValue = explode("~~~~",$orignalValue);										
					$anyConditionYouValueGH = $orignalValue[0];	
					$anyConditionYouValueInDb = $value;
				break;		
				case "any_conditions_relative":										
					$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$key);										
					$orignalValue = explode("~~~~",$orignalValue);										
					$anyConditionRelativeValueGH = $orignalValue[0];
					break;
				case "any_conditions_others_both":										
					$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$key);										
					$orignalValue = explode("~~~~",$orignalValue);										
					$anyConditionOtherBothValueGH = $orignalValue[0];
					break;
				case "any_conditions_others":																					
					$anyConditionOtherValueGH = wv_formatDate($value);
					break;
				case "review_sys":							
					$review_sys = $value;
					if(!empty($review_sys)){
						$ar_review_sys = json_decode($review_sys, true);
						$ar_tmp = array('review_intgmntr',	'review_psychiatry', 'review_blood_lymph',
									'review_musculoskeletal','review_endocrine','review_eye');
						foreach($ar_tmp as $k => $v){
							$value = $ar_review_sys[$v];
							if(!empty($value)){
								$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$v);										
								$orignalValue = explode("~~~~",$orignalValue);
								$vgh = $v."GH";	
								$$vgh = "".$orignalValue[0];
							}
							$vother = $v."_others";
							if(!empty($ar_review_sys[$vother])){
								$vothr = $v."OtherGH";
								$$vothr = $ar_review_sys[$vother];
							}
						}
					}
					break;		
				case "review_const":										
					$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$key);										
					$orignalValue = explode("~~~~",$orignalValue);										
					$anyReviewConstValueGH = $orignalValue[0];
					break;
				case "review_const_others":										
					$reviewConstOtherValueGH = wv_formatDate($value);
					break;
				case "review_head":										
					$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$key);										
					$orignalValue = explode("~~~~",$orignalValue);										
					$reviewHeadValueGH = $orignalValue[0];
					break;
				case "review_head_others":										
					$reviewHeadOtherValueGH = wv_formatDate($value);
					break;
				case "review_resp":										
					$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$key);										
					$orignalValue = explode("~~~~",$orignalValue);										
					$reviewRespValueGH = $orignalValue[0];
					break;	
				case "review_resp_others":										
					$reviewRespOtherValueGH = wv_formatDate($value);
					break;	
				case "review_card":										
					$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$key);										
					$orignalValue = explode("~~~~",$orignalValue);										
					$reviewCardValueGH = $orignalValue[0];
					break;	
				case "review_card_others":										
					$reviewCardOtherValueGH = wv_formatDate($value);
					break;	
				case "review_gastro":										
					$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$key);										
					$orignalValue = explode("~~~~",$orignalValue);										
					$reviewGastroValueGH = $orignalValue[0];
					break;	
				case "review_gastro_others":										
					$reviewGastroOtherValueGH = wv_formatDate($value);
					break;
				case "review_genit":										
					$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$key);										
					$orignalValue = explode("~~~~",$orignalValue);										
					$reviewGenitValueGH = $orignalValue[0];
					break;	
				case "review_genit_others":										
					$reviewGenitOtherValueGH = wv_formatDate($value);
					break;		
				case "review_aller":										
					$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$key);										
					$orignalValue = explode("~~~~",$orignalValue);										
					$reviewAllerValueGH = $orignalValue[0];
					break;	
				case "review_aller_others":										
					$reviewAllerOtherValueGH = wv_formatDate($value);
					break;	
				case "review_neuro":										
					$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$key);										
					$orignalValue = explode("~~~~",$orignalValue);										
					$reviewNeuroValueGH = $orignalValue[0];
					break;	
				case "review_neuro_others":										
					$reviewNeuroOtherValueGH = wv_formatDate($value);
					break;
				case "desc_u":					
					$descValueGH = wv_formatDate($value);
					break;
				case "desc_r":					
					$descRValueGH = wv_formatDate($value);
					break;		
				case "genMedComments":										
					$genMedCommentsValueGH = wv_formatDate($value);
					break;
				case "relDescHighBp":
					
					$relDescHighBpValueGH =	($value) ? "Relative High Blood Pressure :" : "";											
					$relDescHighBpValueGH .= $value;
					break;
				case "relDescHeartProb":				
					$relDescHeartProbValueGH = ($value) ? "Relative Heart Problem :" : "";																			
					$relDescHeartProbValueGH .= $value;
					break;	
				case "relDescLungProb":	
					$relDescLungProbValueGH = ($value) ? "Relative Lung Problems :" : "";																					
					$relDescLungProbValueGH .= $value;
					break;						
				case "relDescStrokeProb":	
					$relDescStrokeProbValueGH = ($value) ? "Relative Stroke :" : "";																				
					$relDescStrokeProbValueGH .= $value;
					break;	
				case "relDescThyroidProb":
					$relDescThyroidProbValueGH = ($value) ? "Relative Thyroid Problems :" : "";																						
					$relDescThyroidProbValueGH .= $value;
					break;	
				case "relDescArthritisProb":		
					$relDescArthritisProbValueGH = ($value) ? "Relative Arthritis :" : "";																				
					$relDescArthritisProbValueGH .= $value;
					break;
				case "sub_conditions_you":		
					$subArthritisProbValueGH = wv_formatDate($value);																				
					break;		
				case "relDescUlcersProb":	
					$relDescUlcersProbValueGH = ($value) ? "Relative Ulcers :" : "";																				
					$relDescUlcersProbValueGH .= $value;
					break;
				case "relDescLDL":	
					$relDescLDLValueGH = ($value) ? "Relative LDL :" : ""; 																				
					$relDescLDLValueGH .= $value;
					break;
				case "relDescCancerProb":	
					$relDescCancerProbValueGH = ($value) ? "Relative Cancer :" : "";																				
					$relDescCancerProbValueGH .= $value;
					break;

				case "ghRelDescOthers":																					
					$ghRelDescOthersValueGH = $value;
					break;	
				case "negChkBx":										
					$orignalValue = $cpr->getOrignalValComa($value,$value,$arrMEDHXGenralHealth,$key);										
					$orignalValue = explode("~~~~",$orignalValue);										
					$negChkBxValueGH = $orignalValue[0];
					break;
					
				case "desc_high_bp":					
					$descValueDHB = wv_formatDate($value);
					break;
				case "desc_arthrities":					
					$descValueDA = wv_formatDate($value);
					break;
				case "desc_lung_problem":					
					$descValueDLP = wv_formatDate($value);
					break;
				case "desc_stroke":					
					$descValueDS = wv_formatDate($value);
					break;
				case "desc_thyroid_problems":					
					$descValueDTP = wv_formatDate($value);
					break;
				case "desc_ulcers":					
					$descValueDU = wv_formatDate($value);
					break;
				case "desc_cancer":					
					$descValueDC = wv_formatDate($value);
					break;
				case "desc_heart_problem":					
					$descValueDHP = wv_formatDate($value);
					break;
				case "desc_genPreviousProblem":					
					$descValueDGPP = wv_formatDate($value);
					break;
				case "desc_LDL":					
					$descValueDLDL = wv_formatDate($value);
					break;
				case "diabetes_values":					
					$descValueDV = wv_formatDate($value);
					break;	
			endswitch;
		}
?>
<style>
.text_b_w{
		font-size:12px;
		font-family:Arial, Helvetica, sans-serif;
		font-weight:bold;
}
.paddingLeft{
	padding-left:5px;
}
.paddingTop{
	padding-top:5px;
}
.tb_subheading{
	font-size:12px;
	font-family:Arial, Helvetica, sans-serif;
	font-weight:bold;
	color:#000000;
	background-color:#f3f3f3;;
}
.tb_heading{
	font-size:11px;
	font-family:Arial, Helvetica, sans-serif;
	font-weight:bold;
	color:#000000;
	background-color:#c0c0c0;
	margin-top:10px;
}
.tb_headingHeader{
	font-size:12px;
	font-family:Arial, Helvetica, sans-serif;
	font-weight:bold;
	color:#FFFFFF;
	background-color:#4684ab;
}
.text_lable{
		font-size:12px;
		font-family:Arial, Helvetica, sans-serif;
		background-color:#FFFFFF;
		font-weight:bold;
}
.text_value{
		font-size:12px;
		font-family:Arial, Helvetica, sans-serif;
		font-weight:100;
		background-color:#FFFFFF;
	}
.text_blue{
		font-size:12px;
		font-family:Arial, Helvetica, sans-serif;
		color:#0000CC;
	font-weight:bold;
	}
.text_green{
		font-size:12px;
		font-family:Arial, Helvetica, sans-serif;
		color:#006600;
		font-weight:bold;
}
.imgCon{width:325px;height:auto;}
.bluelne{ 
	border-bottom:1px solid #012778;!important 
	height:1px;
}
.grylne{ 
	border-bottom:1px solid #ebebeb; 
	height:1px;
}
.bluehed{ 
	font-size:14px;
	color:#012778;
	font-weight:bold;
}
</style>		
<?php  if(
			(!empty($medDoctorValueGH)) || 	
			(!empty($genMedCommentsValueGH)) || 	
			(!empty($anyConditionYouValueGH)) || 
			(!empty($relDescHighBpValueGH)) || 
			(!empty($relDescHeartProbValueGH)) || 
			(!empty($relDescLungProbValueGH)) || 
			(!empty($relDescStrokeProbValueGH)) || 
			(!empty($relDescThyroidProbValueGH)) || 
			(!empty($relDescArthritisProbValueGH)) || 
			(!empty($subArthritisProbValueGH)) || 
			(!empty($relDescUlcersProbValueGH)) ||
			(!empty($relDescLDLValueGH)) ||
			(!empty($relDescCancerProbValueGH)) ||
			(!empty($descValueGH)) ||
			(!empty($descRValueGH)) ||
			(!empty($anyConditionOtherValueGH)) ||
			(!empty($ghRelDescOthersValueGH)) || 
			(!empty($anyReviewConstValueGH)) ||
			(!empty($reviewHeadValueGH)) ||
			(!empty($reviewConstOtherValueGH)) ||
			(!empty($reviewHeadOtherValueGH)) ||
			(!empty($reviewRespValueGH)) ||
			(!empty($reviewCardValueGH)) ||
			(!empty($reviewRespOtherValueGH)) ||
			(!empty($reviewCardOtherValueGH)) ||					
			(!empty($reviewGastroValueGH)) ||
			(!empty($reviewGenitValueGH)) ||
			(!empty($reviewGastroOtherValueGH)) ||
			(!empty($reviewGenitOtherValueGH)) ||					
			(!empty($reviewAllerValueGH)) ||
			(!empty($reviewNeuroValueGH)) ||
			(!empty($reviewAllerOtherValueGH)) ||
			(!empty($reviewNeuroOtherValueGH)) ||
			(!empty($descValueDHB)) ||
			(!empty($descValueDA)) ||
			(!empty($descValueDLP)) ||
			(!empty($descValueDS)) ||
			(!empty($descValueDTP)) ||
			(!empty($descValueDU)) ||
			(!empty($descValueDC)) ||
			(!empty($descValueDHP)) ||
			(!empty($descValueDGPP)) ||
			(!empty($descValueDLDL)) ||
			(!empty($descValueDV)) 
			
		){
		?>
		<table style="width: 100%;" class="paddingTop" cellpadding="2" cellspacing="0">	
			<tr>
				<td class="bluelne" style="width:750px;">&nbsp;</td>		
			</tr>
			<tr>
				<td height="2"></td>		
			</tr>
			<tr>
				<td  style="width: 100%;" class="bluehed">GENERAL HEALTH</td>				
			</tr>  
		</table>
		<table style="width: 100%;" class="paddingTop" cellpadding="2" cellspacing="0">	
			              
            <tr>
                <td style="width: 50%;" valign="top" class="text_lable">
                    <?php if($medDoctorValueGH){?>
                    Medical Doctor :-
                    <?php }?>		
                </td>
                <td style="width: 50%;" class="text_value"  valign="top">
                    <?php echo $medDoctorValueGH; ?>
                </td>
            </tr>	
            <tr>
                <td class="text_lable" valign="top">
                <?php if($genMedCommentsValueGH){?>
                    Comments :-
                <?php }?>		
                </td>
                <td class="text_value" valign="top">
                    <?php echo $genMedCommentsValueGH; ?>
                </td>
            </tr>
            <tr>
                <td class="text_lable" colspan="2" valign="top">
                <?php 		
                if(	
                    (!empty($anyConditionYouValueGH)) || 
                    (!empty($relDescHighBpValueGH)) || 
                    (!empty($relDescHeartProbValueGH)) || 
                    (!empty($relDescLungProbValueGH)) || 
                    (!empty($relDescStrokeProbValueGH)) || 
                    (!empty($relDescThyroidProbValueGH)) || 
                    (!empty($relDescArthritisProbValueGH)) || 
                    (!empty($subArthritisProbValueGH)) || 
                    (!empty($relDescUlcersProbValueGH)) ||
                    (!empty($relDescLDLValueGH)) ||
                    (!empty($relDescCancerProbValueGH)) ||
                    (!empty($descValueGH)) ||
                    (!empty($descRValueGH)) ||
                    (!empty($anyConditionOtherValueGH)) ||
                    (!empty($ghRelDescOthersValueGH)) || 
                    (!empty($anyReviewConstValueGH)) ||
                    (!empty($reviewHeadValueGH)) ||
                    (!empty($reviewConstOtherValueGH)) ||
                    (!empty($reviewHeadOtherValueGH)) ||
                    (!empty($reviewRespValueGH)) ||
                    (!empty($reviewCardValueGH)) ||
                    (!empty($reviewRespOtherValueGH)) ||
                    (!empty($reviewCardOtherValueGH)) ||					
                    (!empty($reviewGastroValueGH)) ||
                    (!empty($reviewGenitValueGH)) ||
                    (!empty($reviewGastroOtherValueGH)) ||
                    (!empty($reviewGenitOtherValueGH)) ||					
                    (!empty($reviewAllerValueGH)) ||
                    (!empty($reviewNeuroValueGH)) ||
                    (!empty($reviewAllerOtherValueGH)) ||
                    (!empty($reviewNeuroOtherValueGH)) ||
                    (!empty($descValueDHB)) ||
                    (!empty($descValueDA)) ||
                    (!empty($descValueDLP)) ||
                    (!empty($descValueDS)) ||
                    (!empty($descValueDTP)) ||
                    (!empty($descValueDU)) ||
                    (!empty($descValueDC)) ||
                    (!empty($descValueDHP)) ||
                    (!empty($descValueDGPP)) ||
                    (!empty($descValueDLDL)) ||
                    (!empty($descValueDV)) 
                    
                ){?>
                    Any condition you or blood relative :-
                <?php }?>	
                </td>			
            </tr>
            <tr>
                <td style="width: 13%;" class="text_lable"  valign="top">
                <?php if($anyConditionYouValueGH){?>
                    Any condition you :-
                <?php }?>			
                </td>		
                <td valign="top" class="text_lable">
                <?php if($relDescHighBpValueGH || $relDescHeartProbValueGH || $relDescLungProbValueGH || $relDescStrokeProbValueGH || $relDescThyroidProbValueGH || $relDescArthritisProbValueGH || $subArthritisProbValueGH || $relDescUlcersProbValueGH || $relDescLDLValueGH || $relDescCancerProbValueGH) {?>
                    Any condition blood relative :-
                <?php }?>			
                </td>		
            </tr>
                
<?php
$anyConditionYouValueGHExplode='';
$anyConditionYouValueGHDesc='';
if($anyConditionYouValueGH) {
	$anyConditionYouValueGHExplode = explode('<br>',$anyConditionYouValueGH);
	foreach($anyConditionYouValueGHExplode as $acyValue) {
		switch ($acyValue):
			case "High Blood Pressure":					
				$anyConditionYouValueGHDesc.=$acyValue.$cpr->get_set_pat_rel_values_retrive($descValueDHB,"pat",$delimiter,$hifen).'<br>';
				break;
			case "Heart Problem":					
				$anyConditionYouValueGHDesc.=$acyValue.$cpr->get_set_pat_rel_values_retrive($descValueDHP,"pat",$delimiter,$hifen).'<br>';
				break;
			case "Arthritis":					
				$anyConditionYouValueGHDesc.=$acyValue.$cpr->get_set_pat_rel_values_retrive($subArthritisProbValueGH,"pat",$delimiter,$hifen).$cpr->get_set_pat_rel_values_retrive($descValueDA,"pat",$delimiter,$hifen).'<br>';
				break;
			case "Lung Problems":					
				$anyConditionYouValueGHDesc.=$acyValue.$cpr->get_set_pat_rel_values_retrive($descValueDLP,"pat",$delimiter,$hifen).'<br>';
				break;
			case "Stroke":					
				$anyConditionYouValueGHDesc.=$acyValue.$cpr->get_set_pat_rel_values_retrive($descValueDS,"pat",$delimiter,$hifen).'<br>';
				break;
			case "Thyroid Problems":					
				$anyConditionYouValueGHDesc.=$acyValue.$cpr->get_set_pat_rel_values_retrive($descValueDTP,"pat",$delimiter,$hifen).'<br>';
				break;
			case "Diabetes":					
				$anyConditionYouValueGHDesc.=$acyValue.$cpr->get_set_pat_rel_values_retrive($descValueGH,"pat",$delimiter,$hifen).'<br>';
				break;
			case "Ulcers":					
				$anyConditionYouValueGHDesc.=$acyValue.$cpr->get_set_pat_rel_values_retrive($descValueDU,"pat",$delimiter,$hifen).'<br>';
				break;
			case "LDL":					
				$anyConditionYouValueGHDesc.=$acyValue.$cpr->get_set_pat_rel_values_retrive($descValueDLDL,"pat",$delimiter,$hifen).'<br>';
				break;
			case "Cancer":					
				$anyConditionYouValueGHDesc.=$acyValue.$cpr->get_set_pat_rel_values_retrive($descValueDC,"pat",$delimiter,$hifen).'<br>';
				break;
		endswitch;
	}
}
if(!$anyConditionYouValueGHDesc) { $anyConditionYouValueGHDesc = $anyConditionYouValueGH;}
?>                
            <tr>
                <td class="text_value">
                    <?php echo $anyConditionYouValueGHDesc; ?>
                </td>	
                <td  class="text_value" align="left" valign="top">
                    <?php 
                        echo $relDescHighBpValueGH.$cpr->get_set_pat_rel_values_retrive($descValueDHB,"rel",$delimiter,$hifen);
                        echo $relDescHeartProbValueGH.$cpr->get_set_pat_rel_values_retrive($descValueDHP,"rel",$delimiter,$hifen);
                        echo $relDescLungProbValueGH.$cpr->get_set_pat_rel_values_retrive($descValueDLP,"rel",$delimiter,$hifen);
                        echo $relDescStrokeProbValueGH.$cpr->get_set_pat_rel_values_retrive($descValueDS,"rel",$delimiter,$hifen);
                        echo $relDescThyroidProbValueGH.$cpr->get_set_pat_rel_values_retrive($descValueDTP,"rel",$delimiter,$hifen);
                        echo $relDescArthritisProbValueGH.$cpr->get_set_pat_rel_values_retrive($subArthritisProbValueGH,"rel",$delimiter,$hifen).$cpr->get_set_pat_rel_values_retrive($descValueDA,"rel",$delimiter,$hifen);
                        echo $relDescUlcersProbValueGH.$cpr->get_set_pat_rel_values_retrive($descValueDU,"rel",$delimiter,$hifen);
                        echo $relDescLDLValueGH.$cpr->get_set_pat_rel_values_retrive($descValueDLDL,"rel",$delimiter,$hifen);
                        echo $relDescCancerProbValueGH.$cpr->get_set_pat_rel_values_retrive($descValueDC,"rel",$delimiter,$hifen);
                    ?>
                </td>	
            </tr>
            
            <tr>
                <td  class="text_lable">
                <?php if($descValueGH){?>
                    You Diabetes :
                <?php }?>			
                </td>	
                <td  class="text_lable">
                <?php if($descRValueGH){?>
                    Relative Diabetes :
                <?php }?>		
                </td>			
            </tr>
            <tr>		
                <td class="text_value" align="left" valign="top">
                    <?php 
                        echo $cpr->get_set_pat_rel_values_retrive($descValueGH,"pat",$delimiter);
                        echo $cpr->get_set_pat_rel_values_retrive($descValueDV,"pat",$delimiter,$hifen);
                    ?>
                </td>	
                <td  class="text_value" align="left" valign="top">
                    <?php 
                        echo $descRValueGH; 
                        echo $cpr->get_set_pat_rel_values_retrive($descValueGH,"rel",$delimiter,$hifen);
                        echo $cpr->get_set_pat_rel_values_retrive($descValueDV,"rel",$delimiter,$hifen);
                    ?>
                </td>	
            </tr>
             <?php if($anyConditionOtherValueGH){?>
            <tr>		
                <td colspan="2" class="text_lable" align="left" valign="top">
                <?php if($anyConditionOtherValueGH){?>
                    Any condition other
                <?php }?>			
                </td>			
            </tr>
            
            <tr>				
                <td colspan="2" class="text_value" align="left" valign="top">
                    <?php echo $cpr->get_set_pat_rel_values_retrive($anyConditionOtherValueGH,"pat",$delimiter);?>
                </td>	
            </tr>
            <?php }
                if($ghRelDescOthersValueGH){
                ?>		
            <tr>		
                <td colspan="2" class="text_lable" align="left" valign="top">
                    Relative condition other                   			
                </td>			
            </tr>
            <tr>				
                <td colspan="2" class="text_value" align="left" valign="top">
                    <?php 
                        echo $ghRelDescOthersValueGH; 
                        echo $cpr->get_set_pat_rel_values_retrive($anyConditionOtherValueGH,"rel",$delimiter,$hifen);	
                    ?>
                </td>	
            </tr>
        <?php }?>
			<tr><td colspan="2" style="height:8px;"></td></tr>
            <tr>				
                <td colspan="2" class="text_lable" align="left" valign="top">
                <?php if(   
			    (!empty($anyReviewConstValueGH)) ||
				(!empty($reviewHeadValueGH)) ||
				(!empty($reviewConstOtherValueGH)) ||
				(!empty($reviewHeadOtherValueGH)) ||
				(!empty($reviewRespValueGH)) ||
				(!empty($reviewCardValueGH)) ||
				(!empty($reviewRespOtherValueGH)) ||
				(!empty($reviewCardOtherValueGH)) ||					
				(!empty($reviewGastroValueGH)) ||
				(!empty($reviewGenitValueGH)) ||
				(!empty($reviewGastroOtherValueGH)) ||
				(!empty($reviewGenitOtherValueGH)) ||					
				(!empty($reviewAllerValueGH)) ||
				(!empty($reviewNeuroValueGH)) ||
				(!empty($reviewAllerOtherValueGH)) ||
				(!empty($reviewNeuroOtherValueGH)) ||
				(!empty($review_intgmntrGH)) ||
				(!empty($review_psychiatryGH)) ||
				(!empty($review_blood_lymphGH)) ||				
				(!empty($review_musculoskeletalGH)) ||
				(!empty($review_endocrineGH)) ||
				(!empty($review_eyeGH)) ||				
				(!empty($negChkBxValueGH))
                            
                        ){?>
                    <i>Review of Systems</i>
                <?php }?>	
                </td>	
            </tr>
	    <?php
		
		//ROS --
		$ros_pos=array(  $reviewAllerValueGH, $reviewCardValueGH,
					$anyReviewConstValueGH, $reviewHeadValueGH,
					$review_endocrineGH, $review_eyeGH, 
					$reviewGastroValueGH, $reviewGenitValueGH,
					$review_blood_lymphGH, $review_intgmntrGH,
					$review_musculoskeletalGH,$reviewNeuroValueGH,
					$review_psychiatryGH,$reviewRespValueGH);
		$ros_pos_other=array( 
						$reviewAllerOtherValueGH,$reviewCardOtherValueGH,
						$reviewConstOtherValueGH,$reviewHeadOtherValueGH,
						$review_endocrineOtherGH,$review_eyeOtherGH,
						$reviewGastroOtherValueGH,$reviewGenitOtherValueGH,
						$review_blood_lymphOtherGH,$review_intgmntrOtherGH,
						$review_musculoskeletalOtherGH, $reviewNeuroOtherValueGH, 
						$review_psychiatryOtherGH,$reviewRespOtherValueGH);
		$cpr->get_med_ros($ros_pos, $ros_pos_other, $negChkBxValueGH);
		
	    
	    ?>			
            
        </table>
<?php
    }
		
//-- Code Ro Add Allergies,Medication,Surgries --


//--- GET ALL PROBLEM LIST ---
if($_REQUEST["problem_testActive"] == "Active"){
	$getProblemList = "select *, date_format(onset_date,'".get_sql_date_format()."'') as DateDiagnosed from pt_problem_list 
			where pt_id = '".$_SESSION['patient']."' and status = 'Active' order by id";
}else{
	$getProblemList = "select *, date_format(onset_date,'".get_sql_date_format('','y')."') as DateDiagnosed from pt_problem_list 
			where pt_id = '".$_SESSION['patient']."' order by id";
}
$rsGetProblemList = imw_query($getProblemList);

if (imw_num_rows($rsGetProblemList) > 0) {	
?>
<table style="width: 100%;"  class="paddingTop" cellpadding="2" cellspacing="0">	
	<tr>
		<td colspan="3" class="bluelne" style="width:750px;">&nbsp;</td>		
	</tr>
	<tr>
		<td colspan="3" height="2"></td>		
	</tr>
	<tr>
		<td style="width: 100%;" colspan="3" class="bluehed">PROBLEM LIST:&nbsp;</td>				
	</tr>
	<tr>
		<td class="text_lable" nowrap valign="top">Patient Problem - Dx Code</td>
		<td class="text_lable" nowrap valign="top">Status</td>
		<td class="text_lable" nowrap valign="top">Date Diagnosed</td>
	</tr>
	<?php 	
	while($rowProblemList = imw_fetch_assoc($rsGetProblemList)){
	?>
		<tr>
			<td class="text_value" valign="top" style="width: 500px;">
				<?php echo stripslashes(core_refine_user_input($rowProblemList["problem_name"])); ?>&nbsp;
			</td>			
			<td class="text_value" valign="top" style="width: 100px;">
				<?php echo ($rowProblemList["status"]); ?>&nbsp;
			</td>
			<td class="text_value" valign="top" style="width: 100px;">
				<?php if(get_number($row["DateDiagnosed"])!="000000"){echo($rowProblemList["DateDiagnosed"]);} ?>&nbsp;
			</td>
		</tr>				
		<?php								
	}
	?>
</table>
<?php
}

//--- GET ALL ALLERGIES DATA ----
if($_REQUEST["allergies_testActive"]=="Active"){
	$getAllergies = "select type,title,begdate,acute,allergy_status,chronic,reactions,ag_occular_drug,comments,
			date_format(begdate,'".get_sql_date_format('','y')."') as DateStart from lists where pid = '".$_SESSION['patient']."' 
			and type in(3,7) and allergy_status = 'Active' order by id";
}else{
	$getAllergies = "select type,title,begdate,acute,allergy_status,chronic,reactions,ag_occular_drug,comments,
			date_format(begdate,''".get_sql_date_format('','y')."') as DateStart from lists where pid = '".$_SESSION['patient']."' 
			and type in(3,7) and allergy_status != 'Deleted' order by id";
}
$rsGetAllergies = imw_query($getAllergies);

if (imw_num_rows($rsGetAllergies) > 0) {	
?>
<table style="width: 100%;" class="paddingTop" cellpadding="2" cellspacing="0">	
	<tr>
		<td colspan="6" class="bluelne" height="1" style="width:750px;">&nbsp;</td>		
	</tr>
	<tr>
		<td colspan="6" height="2"></td>		
	</tr>
	<tr>
		<td style="width: 100%;" colspan="6" class="bluehed">ALLERGIES:</td>				
	</tr>
	<tr>
		<td class="text_lable" nowrap valign="top">Type</td>
		<td class="text_lable" nowrap valign="top">Name</td>		
		<td class="text_lable" nowrap valign="top">Adverse Reactions</td>
		<td class="text_lable" nowrap valign="top">Comments</td>
		<td class="text_lable" nowrap valign="top">Date Started</td>		
		<td class="text_lable" nowrap valign="top">Status</td>		
	</tr>
<?php
while($row = imw_fetch_assoc($rsGetAllergies)){
	$typeAllergy="";
	if($row["ag_occular_drug"] == 'fdbATDrugName'){
			$typeAllergy = 'Drug';
		}
		if($row["ag_occular_drug"] == 'fdbATIngredient'){
			$typeAllergy = 'Ingredient';
		}
		if($row["ag_occular_drug"] == 'fdbATAllergenGroup'){
			$typeAllergy = 'Allergen';
		}
	?>
		<tr>
			<td class="text_value" valign="top" style="width: 100px;"><?php echo $typeAllergy; ?>&nbsp;</td>			
			<td class="text_value" valign="top" style="width: 100px;"><?php echo $row["title"]; ?>&nbsp;</td>
			<td class="text_value" valign="top" style="width: 150px;"><?php echo ucwords($row["reactions"]); ?>&nbsp;</td>	
			<td class="text_value" valign="top" style="width: 150px;"><?php echo ucwords($row["comments"]); ?>&nbsp;</td>	
			<td class="text_value" valign="top" style="width: 100px;">
				<?php if(get_number($row["DateStart"])!="000000"){echo $row["DateStart"];} ?>&nbsp;
			</td>
			<td class="text_value" valign="top" style="width: 100px;"><?php print $row["allergy_status"];?>&nbsp;</td>	
		</tr>
	<?php								
	}
	?>
</table>
<?php
}
else{
	$strNoAllergy = $cpr->commonNoMedicalHistoryAddEdit($moduleName="Allergy",$moduleValue="",$mod="get");
	if($strNoAllergy == "checked"){
		?>
        <table style="width: 100%;" class="paddingTop" cellpadding="2" cellspacing="0">	
            <tr>
				<td class="bluelne" height="1" style="width:750px;">&nbsp;</td>		
			</tr>
			<tr>
				<td height="2"></td>		
			</tr>
			<tr>
                <td style="width: 100%;" class="tb_heading">ALLERGIES:</td>				
            </tr>
            <tr>
                <td style="width: 100%;" class="text_value" valign="top">&nbsp;&nbsp;NKDA</td>				
            </tr>
        </table>
        <?php
	}
}
//--- GET ALL SX / PROCEDURES ---
$getSurgeries = "select type,title,begdate,referredby,comments,date_format(begdate,''".get_sql_date_format('','y')."') as surgerydate 
		from lists where pid = '".$_SESSION['patient']."' and type in (5,6) and allergy_status != 'Deleted' order by id";
$rsGetSurgeries = imw_query($getSurgeries);

if(imw_num_rows($rsGetSurgeries) > 0) {	
?>
<table style="width: 100%;" class="paddingTop" cellpadding="2" cellspacing="0">	
	<tr>
		<td class="bluelne" height="1" style="width:750px;">&nbsp;</td>		
	</tr>
	<tr>
		<td height="2"></td>		
	</tr>
	<tr>
		<td style="width: 100%;" colspan="5" class="bluehed">SURGERIES/PROCEDURE</td>				
	</tr>
	<tr>
		<td valign="top" nowrap class="text_lable">Ocular</td>
		<td valign="top" nowrap class="text_lable">Name</td>
		<td valign="top" nowrap class="text_lable">Date of Surgery</td>		
		<td valign="top" nowrap class="text_lable">Physician</td>
		<td  valign="top" nowrap class="text_lable">Comments</td>		
	</tr>
	<?php 		
	while($row = imw_fetch_assoc($rsGetSurgeries)){
	?>
		<tr>
        	<td class="text_value" valign="top">
            	<?php print $row["type"] == "6" ? 'Yes' : ''; ?>
            </td>
            <td class="text_value" valign="top">
                <?php echo $row["title"]; ?>&nbsp;
            </td>
            <td class="text_value" valign="top">
                <?php if(get_number($row["surgerydate"])!="000000"){ echo ($row["surgerydate"]);} ?>&nbsp;
            </td>
            <td class="text_value" valign="top">
                <?php echo ucwords($row["referredby"]); ?>&nbsp;
            </td>
            <td width="6%" valign="top" class="text_value">
                <?php echo ucwords($row["comments"]); ?>&nbsp;
            </td>			
        </tr>				
		<?php								
	}
	?>
</table>
<?php
}
else{
	$strNoSurgery = $cpr->commonNoMedicalHistoryAddEdit($moduleName="Surgery",$moduleValue="",$mod="get");
	if($strNoSurgery == "checked"){
		?>
        <table style="width: 100%;" class="paddingTop" cellpadding="2" cellspacing="0">	
            <tr>
				<td class="bluelne" height="1" style="width:750px;">&nbsp;</td>		
			</tr>
			<tr>
				<td height="2"></td>		
			</tr>
			<tr>
				<td style="width: 100%;" colspan="5" class="bluehed">SURGERIES/PROCEDURE</td>				
			</tr>
            <tr>
                <td style="width: 100%;" class="text_value" valign="top">&nbsp;&nbsp;No Surgeries</td>				
            </tr>
        </table>
        <?php
	}
}
//--- GET MEDICATION DATA ---
if($_REQUEST["medicationActive"] == "Active"){
	$getMedication = "select type,title,sig,qty,allergy_status,referredby,destination,begdate,enddate,comments, 
			date_format(begdate,'".get_sql_date_format('','y')."') as DateStart from lists where pid='".$_SESSION['patient']."' and  
			allergy_status = 'Active' and type in (1,4) order by id";
}else{
	$getMedication = "select type,title,sig,qty,allergy_status,referredby,destination,begdate,enddate,comments,
			date_format(begdate,'".get_sql_date_format('','y')."') as DateStart from lists where pid='".$_SESSION['patient']."' 
			and type in (1,4) and allergy_status != 'Deleted' order by id";
}
$rsGetMedication = imw_query($getMedication);

if(imw_num_rows($rsGetMedication) > 0){
?>
<table style="width: 100%;"  class="paddingTop" cellpadding="2" cellspacing="0">	
	 <tr>
		<td colspan="6" class="bluelne" height="1" style="width:750px;">&nbsp;</td>		
	</tr>
	<tr>
		<td colspan="6" height="2"></td>		
	</tr>
	<tr>
		<td style="width:100%;" colspan="6" class="bluehed">MEDICATION LIST</td>				
	</tr>	
	<tr>
		<td class="text_lable" nowrap valign="top">Name</td>
		<td class="text_lable" nowrap valign="top">Dosage</td>
		<td class="text_lable" nowrap valign="top">Sig</td>
		<td class="text_lable" nowrap valign="top">Qty</td>
		<td class="text_lable" nowrap valign="top">Date Started</td>
		<td class="text_lable" nowrap valign="top">Status</td>		
	</tr>
	<?php 	
	while($row = imw_fetch_assoc($rsGetMedication)){
	?>
		<tr>		
			<td class="text_value" valign="top"><?php echo $row["title"]; ?>&nbsp;</td>			
			<td class="text_value" valign="top"><?php echo $row["destination"]; ?>&nbsp;</td>			
			<td class="text_value" valign="top"><?php echo $row["sig"]; ?>&nbsp;</td>			
			<td class="text_value" valign="top"><?php echo $row["qty"]; ?>&nbsp;</td>			
			<td class="text_value" valign="top">
				<?php if(get_number($row["DateStart"])!="000000"){echo $row["DateStart"];} ?>&nbsp;
			</td>			
			<td class="text_value" valign="top"><?php echo $row["allergy_status"]; ?>&nbsp;</td>
		</tr>				
	<?php								
	}
	?>
	
</table>
<?php
}
else{
	$strNoMedication = $cpr->commonNoMedicalHistoryAddEdit($moduleName="Medication",$moduleValue="",$mod="get");
	if($strNoMedication == "checked"){
		?>
        <table style="width: 100%;" class="paddingTop" cellpadding="2" cellspacing="0">	
            <tr>
				<td class="bluelne" height="1" style="width:750px;">&nbsp;</td>		
			</tr>
			<tr>
				<td height="2"></td>		
			</tr>
			<tr>
				<td style="width:100%;" colspan="6" class="bluehed">MEDICATION LIST</td>				
			</tr>	
            <tr>
                <td style="width: 100%;" class="text_value" valign="top">&nbsp;&nbsp;No Medications</td>				
            </tr>
        </table>
        <?php
	}
}

include(getcwd()."/labresults_print.php");	
include(getcwd()."/radiology_print.php");	
?>